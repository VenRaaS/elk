PUT _template/template_model

{
  "template": "*_mod_*",
  "settings": {
    "number_of_shards": 3
  },
  "mappings": {
    "_default_": {
      "_all": {
        "enabled": false
      },
      "_ttl": {
        "enabled": true,
        "default": "14d"
      },
      "dynamic_templates": [
        {
          "keyword_noindex": {
            "match_pattern": "regex",
            "match": "^(indicators)|(indicators_raw)$",
            "mapping": {
              "type": "string",
              "index": "no"
            }
          }
        },
        {
          "update_time": {
            "match":"update_time",
            "mapping":{
              "type":"date",
              "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
              "index": "no"
            }                
          }
        },
        {
          "str_ik": {
            "match": "*_ik",
            "match_mapping_type": "string",
            "mapping": {
              "type": "string",
              "index": "analyzed",
              "analyzer": "ik"
            }
          }
        },
        {
          "str_default": {
            "match": "*_s",
            "match_mapping_type": "string",
            "mapping": {
              "type": "string",
              "index": "analyzed"
            }
          }
        },
        {
          "str_na": {
            "match": "*",
            "match_mapping_type": "string",
            "mapping": {
              "type": "string",
              "index": "not_analyzed"
            }
          }
        }
      ]
    },    
    "vig": {      
      "properties": {        
        "score": {
          "type": "double"
        }
      }
    },
    "goods_category_flatten": {
      "_id": {
        "path": "id"
      },
      "properties": {
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "id": {
          "type": "string",
          "index": "no"
        },
        "gid": {
          "type": "string",
          "index": "not_analyzed"
        },
        "category_code": {
          "type": "string",
          "index": "not_analyzed"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    },
    "category_flatten": {
      "_id": {
        "path": "id"
      },
      "properties": {
        "ancestor": {
          "type": "string",
          "index": "not_analyzed"
        },
        "category_code": {
          "type": "string",
          "index": "not_analyzed"
        },
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "id": {
          "type": "string",
          "index": "not_analyzed"
        },
        "type": {
          "type": "string",
          "index": "not_analyzed"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    },
    "breadcrumb": {
      "_id": {
        "path": "id"
      },
      "properties": {
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "id": {
          "type": "string",
          "index": "no"
        },
        "gid": {
          "type": "string",
          "index": "not_analyzed"
        },
        "breadcrumb": {
          "type": "string",
          "index": "no"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    },
    "ar_i2i": {
      "_id": {
        "path": "gid"
      },
      "properties": {
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "gid": {
          "type": "string",
          "index": "not_analyzed"
        },
        "consequents": {
          "type": "string",
          "index": "not_analyzed"
        },
        "consequents_raw": {
          "type": "string",
          "index": "not_analyzed"
        },
        "params": {
          "type": "string",
          "index": "analyzed"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    },
    "cooc_i2i": {
      "_id": {
        "path": "gid"
      },
      "properties": {
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "gid": {
          "type": "string",
          "index": "not_analyzed"
        },
        "indicators": {
          "type": "string",
          "index": "not_analyzed"
        },
        "indicators_raw": {
          "type": "string",
          "index": "no"
        },
        "params": {
          "type": "string",
          "index": "analyzed"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    },
    "ar_c2c": {
      "_id": {
        "path": "category_code"
      },
      "properties": {
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "category_code": {
          "type": "string",
          "index": "not_analyzed"
        },
        "consequents": {
          "type": "string",
          "index": "not_analyzed"
        },
        "consequents_raw": {
          "type": "string",
          "index": "not_analyzed"
        },
        "params": {
          "type": "string",
          "index": "analyzed"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    },
    "tp_goods": {
      "_all": {
        "enabled": false
      },
      "_id": {
        "path": "gid"
      },
      "properties": {
        "code_name": {
          "type": "string",
          "index": "no"
        },
        "gid": {
          "type": "string",
          "index": "not_analyzed"
        },
        "click_num": {
          "type": "string",
          "index": "no"
        },
        "order_num": {
          "type": "string",
          "index": "no"
        },
        "update_time": {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss || yyyy-MM-dd HH:mm:ss.SSS || date_hour_minute_second_millis || dateOptionalTime",
          "numeric_resolution": "hours"
        }
      }
    }
  }
}
